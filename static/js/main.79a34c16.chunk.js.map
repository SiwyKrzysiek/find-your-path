{"version":3,"sources":["Navigation.js","Home.js","Cellar.js","model/Book.js","Book.js","Bookcase.js","App.js","serviceWorker.js","index.js"],"names":["Navigation","props","className","React","Children","map","children","child","i","Home","to","style","width","Cellar","BookDTO","id","title","content","isLogin","this","Book","book","onLogin","logged","loginInput","createRef","passwordInput","htmlFor","ref","type","aria-describedby","onClick","current","value","withRouter","bookSelect","books","key","bookId","url","match","history","push","path","render","find","b","params","idBook","App","authenticate","login","password","setState","console","log","state","exact","component","Component","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"0RAEe,SAASA,EAAWC,GAC/B,OACI,yBAAKC,UAAU,yBACX,yBAAKA,UAAU,aACX,wBAAIA,UAAU,cAAd,cAEA,wBAAIA,UAAU,6BACTC,IAAMC,SAASC,IAAIJ,EAAMK,UAAU,SAACC,EAAOC,GAAR,OAChC,wBAAIN,UAAU,YACTK,SCPd,SAASE,EAAKR,GAC3B,OACE,yBAAKC,UAAU,aACb,yBAAKA,UAAU,OAEb,kBAACF,EAAD,KACE,kBAAC,IAAD,CAAMU,GAAG,UAAUR,UAAU,YAA7B,UACA,kBAAC,IAAD,CAAMQ,GAAG,YAAYR,UAAU,YAA/B,aAGF,yBAAKA,UAAU,WAAWS,MAAO,CAAEC,MAAO,UACxC,yBAAKV,UAAU,aACb,wBAAIA,UAAU,cAAd,QACA,uBAAGA,UAAU,aAAb,mC,YCbG,SAASW,EAAOZ,GAC7B,OACE,yBAAKC,UAAU,aACb,yBAAKA,UAAU,OAEb,kBAACF,EAAD,KACE,kBAAC,IAAD,CAAMU,GAAG,QAAQR,UAAU,YAA3B,YAGF,yBAAKA,UAAU,WAAWS,MAAO,CAAEC,MAAO,UACxC,yBAAKV,UAAU,aACb,wBAAIA,UAAU,cAAd,UACA,uBAAGA,UAAU,aAAb,uEAEA,2E,IClBSY,EACnB,WAAYC,EAAIC,EAAOC,GAA2B,IAAlBC,EAAiB,4EAC/CC,KAAKJ,GAAKA,EACVI,KAAKH,MAAQA,EACbG,KAAKF,QAAUA,EACfE,KAAKD,QAAUA,GCDJ,SAASE,EAAT,GAA0C,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,OACtCC,EAAarB,IAAMsB,YACnBC,EAAgBvB,IAAMsB,YAS5B,OACE,iCACE,6BACA,wBAAIvB,UAAU,yBAAyBmB,EAAKL,OAC5C,uBAAGd,UAAU,QAAQmB,EAAKJ,SAEzBI,EAAKH,UAAYK,EAChB,8BACE,yBAAKrB,UAAU,cACb,2BAAOyB,QAAQ,sBAAf,SACA,2BAAOC,IAAKJ,EAAYK,KAAK,OAAO3B,UAAU,eAAea,GAAG,qBAAqBe,mBAAiB,eAExG,yBAAK5B,UAAU,cACb,2BAAOyB,QAAQ,yBAAf,YACA,2BAAOC,IAAKF,EAAeG,KAAK,WAAW3B,UAAU,eAAea,GAAG,2BAEzE,4BAAQgB,QApBK,WACnBT,EAAQE,EAAWQ,QAAQC,MAAOP,EAAcM,QAAQC,QAmBnBJ,KAAK,SAAS3B,UAAU,mBAAvD,WAGF,mECwCOgC,mBAlEf,SAAkBjC,GAChB,IAAIkC,EAAahC,IAAMsB,YACnBH,EAAUrB,EAAMqB,QAChBC,EAAStB,EAAMsB,OACba,EAAQnC,EAAMmC,MAapB,OACE,yBAAKlC,UAAU,aACb,yBAAKA,UAAU,OAEb,kBAACF,EAAD,KACE,kBAAC,IAAD,CAAMU,GAAG,QAAQR,UAAU,YAA3B,yBAGF,yBAAKA,UAAU,WAAWS,MAAO,CAAEC,MAAO,UACxC,yBAAKV,UAAU,aACb,wBAAIA,UAAU,cAAd,YACA,uBAAGA,UAAU,aAAb,oDAA0E,sCAA1E,KAEA,uBAAGA,UAAU,aAAb,4DAEA,8BACE,yBAAKA,UAAU,eACb,4BAAQ0B,IAAKO,EAAYjC,UAAU,iBAChCD,EAAMmC,MAAM/B,KAAI,SAACgB,EAAMb,GAAP,OACf,4BAAQ6B,IAAK7B,EAAGyB,MAAOZ,EAAKN,IAAKM,EAAKL,WAG1C,yBAAKd,UAAU,sBACb,4BAAQ6B,QAlCD,WACrB,IAAMO,EAASH,EAAWH,QAAQC,MAC5BM,EAAG,UAAMtC,EAAMuC,MAAMD,IAAlB,YAAyBD,GAClCrC,EAAMwC,QAAQC,KAAKH,IA+B4BrC,UAAU,4BAA4B2B,KAAK,UAA5E,QACA,4BAAQE,QA7BA,WACtB,IAAMQ,EAAG,UAAMtC,EAAMuC,MAAMD,KAC3BtC,EAAMwC,QAAQC,KAAKH,IA2B6BrC,UAAU,4BAA4B2B,KAAK,UAA7E,iBAKN,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOc,KAAM1C,EAAMuC,MAAMG,KAAO,WAAYC,OAAQ,SAAC3C,GAAD,OAClD,kBAACmB,EAAD,iBAAUnB,EAAV,CAAiBsB,OAAQA,EAAQD,QAASA,EAASD,KACjDe,EAAMS,MAAK,SAACC,GAAD,OAAOA,EAAE/B,IAAMd,EAAMuC,MAAMO,OAAOC,wBCIhDC,E,YA1Cb,WAAYhD,GAAQ,IAAD,8BACjB,4CAAMA,KAURiD,aAAe,SAACC,EAAOC,GAErB,EAAKC,SAAS,CAAE9B,QAAQ,IACxB+B,QAAQC,IAAIJ,EAAOC,GACnBE,QAAQC,IAAI,4BAZZ,EAAKC,MAAQ,CACXjC,QAAQ,EACRa,MHbG,CACL,IAAItB,EAAQ,EAAG,iBAAkB,uwBACjC,IAAIA,EAAQ,EAAG,6BAA8B,gvBAC7C,IAAIA,EAAQ,EAAG,iBAAkB,q9BACjC,IAAIA,EAAQ,EAAG,2BAA4B,yEAAyE,KGInG,E,sEAkBT,IAAD,OACP,OACE,oCACE,6BAASZ,UAAU,kBACjB,mDAGF,8BACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOuD,OAAK,EAACd,KAAK,IAAIe,UAAWjD,IACjC,kBAAC,IAAD,CAAOkC,KAAK,QAAQe,UAAWjD,IAC/B,kBAAC,IAAD,CAAOkC,KAAK,UAAUe,UAAW7C,IACjC,kBAAC,IAAD,CAAO8B,KAAK,YAAYC,OAAQ,SAAC3C,GAAD,OAC9B,kBAAC,EAAD,iBAAcA,EAAd,CAAqBsB,OAAQ,EAAKiC,MAAMjC,OAAQD,QAAS,EAAK4B,aAAcd,MAAO,EAAKoB,MAAMpB,oB,GAjC5FjC,IAAMwD,WCNJC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASvB,MACvB,2DCZNwB,IAASpB,OAAO,kBAAC,EAAD,MAASqB,SAASC,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.79a34c16.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Navigation(props) {\n    return (\n        <div className=\"card col-3 navigation\">\n            <div className=\"card-body\">\n                <h5 className=\"card-title\">Next place</h5>\n\n                <ul className=\"nav nav-pills flex-column\">\n                    {React.Children.map(props.children, (child, i) => (\n                        <li className=\"nav-item\">\n                            {child}\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Navigation from \"./Navigation\";\n\nexport default function Home(props) {\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n\n        <Navigation>\n          <Link to=\"/cellar\" className=\"nav-link\">Cellar</Link>\n          <Link to=\"/bookcase\" className=\"nav-link\">Bookcase</Link>\n        </Navigation>\n\n        <div className=\"card col\" style={{ width: \"18rem\" }}>\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Home</h5>\n            <p className=\"card-text\">Time to go on an adventure!</p>\n          </div>\n        </div >\n\n      </div>\n    </div>\n  );\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Navigation from \"./Navigation\";\n\nexport default function Cellar(props) {\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n\n        <Navigation>\n          <Link to=\"/home\" className=\"nav-link\">Upstars</Link>\n        </Navigation>\n\n        <div className=\"card col\" style={{ width: \"18rem\" }}>\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Cellar</h5>\n            <p className=\"card-text\">Here you can find locked chest with wierd message scrambled on top.</p>\n            {/* TODO: Ability to inspect message */}\n            <p>Message: \"You must be logged to open me\"</p>\n          </div>\n        </div >\n\n      </div>\n    </div>\n  );\n}","export default class BookDTO {\n  constructor(id, title, content, isLogin = false) {\n    this.id = id;\n    this.title = title;\n    this.content = content;\n    this.isLogin = isLogin;\n  }\n}\n\n// Probably should be somewhere else \nexport function createSampleBooks() {\n  return [\n    new BookDTO(1, \"Art of binding\", \"Mauris ut finibus felis, eu dictum odio. Nam orci leo, ultricies ac sem a, finibus congue sapien. Mauris dictum gravida mauris. Nam et dignissim eros. Aliquam cursus pharetra leo vel finibus. Cras vehicula mauris in pretium commodo. Vestibulum vehicula molestie varius. Phasellus non tellus et leo consequat tincidunt. Duis vitae viverra augue, vel sollicitudin metus. Pellentesque auctor erat sed est lobortis rhoncus ut at ligula. Fusce sodales, enim sit amet varius placerat, odio metus imperdiet sapien, a hendrerit libero mauris ut nulla. Sed at erat quam. Donec sodales ante a nibh bibendum lobortis. Mauris lobortis elit quis libero rutrum, eget rutrum dolor sagittis. In fringilla vel nisl ut mollis. Cras finibus dolor eget nisl sodales, in dictum purus pretium.\"),\n    new BookDTO(2, \"Secret cooking ingredients\", \"Etiam at quam ornare enim accumsan tristique id faucibus eros. Mauris placerat sed est sit amet elementum. Donec elementum, augue nec laoreet ornare, massa nibh lobortis felis, at sodales sem ipsum quis leo. Mauris dictum malesuada leo, vel mattis elit pulvinar ac. Aliquam a lorem erat. Donec vel nunc id dui ullamcorper fringilla quis et dolor. Aliquam tincidunt quis nulla vel suscipit. Quisque vel bibendum magna. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Curabitur rhoncus velit eget urna pulvinar aliquet. In quis mi ut nisi euismod dictum non eget augue. Proin in molestie dui, eget vestibulum urna. Cras semper diam eu suscipit maximus. Vivamus eros nunc, mattis in sem eu, rhoncus ornare velit.\"),\n    new BookDTO(3, \"Computer magic\", \"Duis id lectus vitae nisl iaculis dignissim at vel eros. Sed elit quam, laoreet quis aliquam id, laoreet vitae ligula. Nulla tristique, felis eu sollicitudin venenatis, mi risus porttitor lacus, at tincidunt libero velit in nibh. In dictum, orci vitae sodales viverra, nulla lorem vulputate urna, eu maximus nulla augue commodo nulla. Morbi molestie, est sit amet mollis elementum, turpis elit consectetur quam, a accumsan mi mauris vitae libero. Etiam dictum sagittis orci, id dignissim dui porta non. Praesent porta, eros in sollicitudin laoreet, tellus dui ultricies nunc, non consectetur arcu nisi eget augue. Pellentesque id gravida urna, at facilisis est. Donec id lacus est. Mauris eleifend laoreet arcu, non pretium metus ornare sed. In hac habitasse platea dictumst. Curabitur molestie, purus in ornare commodo, nulla nisl euismod tellus, in ullamcorper tellus velit in augue. Curabitur ac posuere purus. Nulla orci arcu, porta sed est luctus, luctus tincidunt tellus.\"),\n    new BookDTO(4, \"Wonderful authentication\", \"Looks like this book has two empty spaces that just ask to be filled!\", true)\n  ];\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport BookDTO from \"./model/Book\";\n\nexport default function Book({ book, onLogin, logged }) {\n  const loginInput = React.createRef();\n  const passwordInput = React.createRef();\n\n  // console.log(onLogin);\n  // onLogin(\"a\", \"b\");\n\n  const handleSubmit = () => {\n    onLogin(loginInput.current.value, passwordInput.current.value);\n  };\n\n  return (\n    <section>\n      <hr />\n      <h3 className=\"text-center display-4\">{book.title}</h3>\n      <p className=\"lead\">{book.content}</p>\n\n      {book.isLogin && !logged ?\n        <form>\n          <div className=\"form-group\">\n            <label htmlFor=\"exampleInputEmail1\">Login</label>\n            <input ref={loginInput} type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"exampleInputPassword1\">Password</label>\n            <input ref={passwordInput} type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" />\n          </div>\n          <button onClick={handleSubmit} type=\"button\" className=\"btn btn-primary\">Submit</button>\n        </form>\n        :\n        <p>You feel that something has changed</p>\n      }\n\n    </section>\n  );\n}\n\nBook.propTypes = {\n  book: PropTypes.instanceOf(BookDTO).isRequired\n};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, withRouter, HashRouter as Router, Route } from \"react-router-dom\";\nimport Navigation from \"./Navigation\";\nimport Book from \"./Book\";\n\nimport BookDTO from \"./model/Book\";\n\nfunction Bookcase(props) {\n  let bookSelect = React.createRef();\n  let onLogin = props.onLogin;\n  let logged = props.logged;\n  const books = props.books;\n\n  const handleBookOpen = () => {\n    const bookId = bookSelect.current.value;\n    const url = `${props.match.url}/${bookId}`;\n    props.history.push(url);\n  };\n\n  const handleBookClose = () => {\n    const url = `${props.match.url}`;\n    props.history.push(url);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n\n        <Navigation>\n          <Link to=\"/home\" className=\"nav-link\">Home (the main part)</Link>\n        </Navigation>\n\n        <div className=\"card col\" style={{ width: \"18rem\" }}>\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Bookcase</h5>\n            <p className=\"card-text\">Here you can take and reed books. One of them is <b>special</b>.</p>\n\n            <p className=\"card-text\">If You want to take book of shelf select it and confirm.</p>\n\n            <form>\n              <div className=\"input-group\">\n                <select ref={bookSelect} className=\"custom-select\">\n                  {props.books.map((book, i) => (\n                    <option key={i} value={book.id}>{book.title}</option>\n                  ))}\n                </select>\n                <div className=\"input-group-append\">\n                  <button onClick={handleBookOpen} className=\"btn btn-outline-secondary\" type=\"button\">Open</button>\n                  <button onClick={handleBookClose} className=\"btn btn-outline-secondary\" type=\"button\">Close book</button>\n                </div>\n              </div>\n            </form>\n\n            <Router>\n              <Route path={props.match.path + \"/:idBook\"} render={(props) => (\n                <Book {...props} logged={logged} onLogin={onLogin} book={\n                  books.find((b) => b.id == props.match.params.idBook)\n                } />)\n              } />\n            </Router>\n\n          </div>\n        </div >\n\n      </div>\n    </div>\n  );\n}\n\n// Bookcase.propTypes = {\n//   books: PropTypes.arrayOf(BookDTO)\n// };\n\nexport default withRouter(Bookcase);","import React from \"react\";\nimport {\n  HashRouter as Router, // Browser router doesn't work with Github pages\n  Route,\n  Link,\n  Switch,\n  matchPath,\n  Redirect\n} from \"react-router-dom\";\n\nimport Home from \"./Home\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./App.css\";\nimport Cellar from \"./Cellar\";\nimport Bookcase from \"./Bookcase\";\nimport { createSampleBooks } from \"./model/Book\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      logged: false,\n      books: createSampleBooks()\n    };\n\n    // this.authenticate = this.authenticate.bind(this);\n  }\n\n  authenticate = (login, password) => {\n    // Everyone is authenticated\n    this.setState({ logged: true });\n    console.log(login, password);\n    console.log(\"You have been logged in\");\n  }\n\n  render() {\n    return (\n      <>\n        <section className=\"container logo\">\n          <h2>Find your own path</h2>\n        </section>\n\n        <main>\n          <Router>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/home\" component={Home} />\n              <Route path=\"/cellar\" component={Cellar} />\n              <Route path=\"/bookcase\" render={(props) => (\n                <Bookcase {...props} logged={this.state.logged} onLogin={this.authenticate} books={this.state.books} />)\n              } />\n            </Switch>\n          </Router>\n        </main>\n      </>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}